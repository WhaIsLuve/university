#Ассемблер 
## DB — байт

При описание переменной-массива имя дается его первому элементу, а остальные остаются безымянными.

DB — занимает 1 байт

## Пример

```nasm
M DB 2
DB -2
DB ?
DB "*" или M DB 2, -2, ?, "*"
```

m

|02|FE||2A|
|---|---|---|---|

TYPE M = 1

Для ссылок на другие байты массива используется выражение $M + k$, где k — целое число.

Адрес байта $M + 1$ со значением FE.

Если несколько соседних операндов символы, то их можно объединить в строку.

Пример:

```nasm
S DB 'a'
DB 'b'
DB 'c'
или
S DB 'abc' и т.д
```

Если необходимо описать байтовый массив, состоящий из нескольких байтовых элементов, то можно использовать конструкцию `DUP`.

R DB 0, 0, 0, 0, 0, 0 или R DB 6 DUP(0)

`R DB 6 DUP(0):`

6 — кол-во повторений

DUP(0) — элемент, который нужно повторять

### Двумерный массив

`G DB 10 DUP(20 DUP(?))`

## DW — слово

DW — занимает 2 байта.

### Пример

```nasm
A DW ? 
B DW 1234h 
C DW -2  
S1 DW '01'
W DW 40000, 3 DUP(?) // 4 элемента, но все равно TYPE W = 2 байта
```

В качестве операнды директивы DW может быть указана адресное выражение. Т.е. выражение, значение которого равняется адресу.

Пример

```nasm
C DB ?
D DW C
```

Ассемблер записывает в слово выделенное под переменную адрес переменной С, которой становится начальным значением переменно D.

## DD — двойное слово

**DD — занимает 4 байта**.
![[
### Диапазон значений

- Целые числа — $[-2^{31};2^{32}-1]$
    
- Константные выражения — $[-2^{15};2^{16}-1]$
    
    Так как все выражения вычисляются в области 16-битовых чисел, то все числа берутся по модулю 2
    
    ![[photo_2023-10-19_14-25-29 1.jpg]]
    

```nasm
C DB ?
D DD C
```

Ассемблер заменяет имя переменной С на адресную пару состоящую из сегмента и смещение имени внутри сегмента.

## Директива эквивалентности EQU<операнд>

Операнд может быть:

1. Операнд имя.
    
    Если в правой части директивы указывается имя регистра переменной или константы, тогда имя слева объявляется синонимом данного имени и все последующие вхождения в текст программы имени этого синонима ассемблер будет заменять на имя указанное справа.
    
    Пример:
    
    ```nasm
    A DW ?
    B EQU A
    C DW B ; эквивалентно C DW A
    ```
    
    ************ЕСЛИ ВНУТРИ EQU НЕТ МАТ. ОПЕРАЦИЙ, ТО ЗНАЧЕНИЕ ПЕРЕДАЕТСЯ ПО ССЫЛКЕ************
    
2. Операнд — константное выражение
    
    ```nasm
    N EQU 100
    K EQU 2*N-1
    ```
    
    N — константа со значением 100
    
    K — константа со значением 199
    
    Все последующие вхождения в текст программы имени константы ассемблер будет заменять на значение этой константы.
    
3. Операнд — любой другой текст
    
    ```nasm
    S EQU 'ПРИВЕТ'
    ```
    
    Все последующие вхождения в текст программы имени этого текста ассемблер будет заменять на значение этого текста.
    

## Директива присваивания =

Этого директива определяет константу с именем указанным слева и числовым значением равным значению справа. Однако данная константа может менять свое значения.

```nasm
K = 10
A DW K
K = K + 4
B DB K
```

Выражение в ассемблере выполняются не во время выполнения программы, а во время ее трансляции. Встретив в тексте программы выражение, то ассемблер вычисляет его и записывает в машинную программу, поэтому в выражениях нельзя использовать величины, которые станут известны во время выполнения программы.

## Приоритет операторов
![[photo_2023-10-19_14-54-31.jpg]]